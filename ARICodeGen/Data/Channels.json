{"basePath":"http://192.168.1.98:8088/ari","swaggerVersion":"1.1","_svn_revision":"$Revision: 412535 $","_copyright":"Copyright (C) 2012 - 2013, Digium, Inc.","_author":"David M. Lee, II <dlee@digium.com>","apiVersion":"1.2.0","resourcePath":"/api-docs/channels.{format}","apis":[{"path":"/channels","description":"Active channels","operations":[{"httpMethod":"GET","nickname":"list","summary":"List all active channels in Asterisk.","responseClass":"List[Channel]"},{"httpMethod":"POST","nickname":"originate","summary":"Create a new channel (originate).","notes":"The new channel is created immediately and a snapshot of it returned. If a Stasis application is provided it will be automatically subscribed to the originated channel for further events and updates.","parameters":[{"description":"Endpoint to call.","name":"endpoint","dataType":"string","paramType":"query","required":true,"allowMultiple":false},{"description":"The extension to dial after the endpoint answers","name":"extension","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"The context to dial after the endpoint answers. If omitted, uses 'default'","name":"context","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"The priority to dial after the endpoint answers. If omitted, uses 1","name":"priority","dataType":"long","paramType":"query","required":false,"allowMultiple":false},{"description":"The application that is subscribed to the originated channel, and passed to the Stasis application.","name":"app","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"The application arguments to pass to the Stasis application.","name":"appArgs","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"CallerID to use when dialing the endpoint or extension.","name":"callerId","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"Timeout (in seconds) before giving up dialing, or -1 for no timeout.","name":"timeout","dataType":"int","paramType":"query","required":false,"allowMultiple":false,"defaultValue":30},{"description":"The 'variables' key in the body object holds variable key/value pairs to set on the channel on creation. Other keys in the body object are interpreted as query parameters. Ex. { 'endpoint': 'SIP/Alice', 'variables': { 'CALLERID(name)': 'Alice' } }","name":"variables","dataType":"containers","paramType":"body","required":false,"allowMultiple":false},{"description":"The unique id to assign the channel on creation.","name":"channelId","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"The unique id to assign the second channel when using local channels.","name":"otherChannelId","dataType":"string","paramType":"query","required":false,"allowMultiple":false}],"responseClass":"Channel","errorResponses":[{"reason":"Invalid parameters for originating a channel.","code":400}]}]},{"path":"/channels/{channelId}","description":"Active channel","operations":[{"httpMethod":"GET","nickname":"get","summary":"Channel details.","responseClass":"Channel","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false}],"errorResponses":[{"reason":"Channel not found","code":404}]},{"httpMethod":"POST","nickname":"originateWithId","summary":"Create a new channel (originate with id).","notes":"The new channel is created immediately and a snapshot of it returned. If a Stasis application is provided it will be automatically subscribed to the originated channel for further events and updates.","parameters":[{"description":"The unique id to assign the channel on creation.","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"Endpoint to call.","name":"endpoint","dataType":"string","paramType":"query","required":true,"allowMultiple":false},{"description":"The extension to dial after the endpoint answers","name":"extension","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"The context to dial after the endpoint answers. If omitted, uses 'default'","name":"context","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"The priority to dial after the endpoint answers. If omitted, uses 1","name":"priority","dataType":"long","paramType":"query","required":false,"allowMultiple":false},{"description":"The application that is subscribed to the originated channel, and passed to the Stasis application.","name":"app","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"The application arguments to pass to the Stasis application.","name":"appArgs","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"CallerID to use when dialing the endpoint or extension.","name":"callerId","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"Timeout (in seconds) before giving up dialing, or -1 for no timeout.","name":"timeout","dataType":"int","paramType":"query","required":false,"allowMultiple":false,"defaultValue":30},{"description":"The 'variables' key in the body object holds variable key/value pairs to set on the channel on creation. Other keys in the body object are interpreted as query parameters. Ex. { 'endpoint': 'SIP/Alice', 'variables': { 'CALLERID(name)': 'Alice' } }","name":"variables","dataType":"containers","paramType":"body","required":false,"allowMultiple":false},{"description":"The unique id to assign the second channel when using local channels.","name":"otherChannelId","dataType":"string","paramType":"query","required":false,"allowMultiple":false}],"responseClass":"Channel","errorResponses":[{"reason":"Invalid parameters for originating a channel.","code":400}]},{"httpMethod":"DELETE","nickname":"hangup","summary":"Delete (i.e. hangup) a channel.","responseClass":"void","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"allowableValues":{"valueType":"LIST","values":["normal","busy","congestion"]},"description":"Reason for hanging up the channel","name":"reason","dataType":"string","paramType":"query","required":false,"allowMultiple":false,"defalutValue":"normal"}],"errorResponses":[{"reason":"Invalid reason for hangup provided","code":400},{"reason":"Channel not found","code":404}]}]},{"path":"/channels/{channelId}/continue","description":"Exit application; continue execution in the dialplan","operations":[{"httpMethod":"POST","nickname":"continueInDialplan","summary":"Exit application; continue execution in the dialplan.","responseClass":"void","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"The context to continue to.","name":"context","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"The extension to continue to.","name":"extension","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"The priority to continue to.","name":"priority","dataType":"int","paramType":"query","required":false,"allowMultiple":false}],"errorResponses":[{"reason":"Channel not found","code":404},{"reason":"Channel not in a Stasis application","code":409}]}]},{"path":"/channels/{channelId}/answer","description":"Answer a channel","operations":[{"httpMethod":"POST","nickname":"answer","summary":"Answer a channel.","responseClass":"void","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false}],"errorResponses":[{"reason":"Channel not found","code":404},{"reason":"Channel not in a Stasis application","code":409}]}]},{"path":"/channels/{channelId}/ring","description":"Send a ringing indication to a channel","operations":[{"httpMethod":"POST","nickname":"ring","summary":"Indicate ringing to a channel.","responseClass":"void","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false}],"errorResponses":[{"reason":"Channel not found","code":404},{"reason":"Channel not in a Stasis application","code":409}]},{"httpMethod":"DELETE","nickname":"ringStop","summary":"Stop ringing indication on a channel if locally generated.","responseClass":"void","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false}],"errorResponses":[{"reason":"Channel not found","code":404},{"reason":"Channel not in a Stasis application","code":409}]}]},{"path":"/channels/{channelId}/dtmf","description":"Send DTMF to a channel","operations":[{"httpMethod":"POST","nickname":"sendDTMF","summary":"Send provided DTMF to a given channel.","responseClass":"void","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"DTMF To send.","name":"dtmf","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"Amount of time to wait before DTMF digits (specified in milliseconds) start.","name":"before","dataType":"int","paramType":"query","required":false,"allowMultiple":false,"defaultValue":0},{"description":"Amount of time in between DTMF digits (specified in milliseconds).","name":"between","dataType":"int","paramType":"query","required":false,"allowMultiple":false,"defaultValue":100},{"description":"Length of each DTMF digit (specified in milliseconds).","name":"duration","dataType":"int","paramType":"query","required":false,"allowMultiple":false,"defaultValue":100},{"description":"Amount of time to wait after DTMF digits (specified in milliseconds) end.","name":"after","dataType":"int","paramType":"query","required":false,"allowMultiple":false,"defaultValue":0}],"errorResponses":[{"reason":"DTMF is required","code":400},{"reason":"Channel not found","code":404},{"reason":"Channel not in a Stasis application","code":409}]}]},{"path":"/channels/{channelId}/mute","description":"Mute a channel","operations":[{"httpMethod":"POST","nickname":"mute","summary":"Mute a channel.","responseClass":"void","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"allowableValues":{"valueType":"LIST","values":["both","in","out"]},"description":"Direction in which to mute audio","name":"direction","dataType":"string","paramType":"query","required":false,"allowMultiple":false,"defaultValue":"both"}],"errorResponses":[{"reason":"Channel not found","code":404},{"reason":"Channel not in a Stasis application","code":409}]},{"httpMethod":"DELETE","nickname":"unmute","summary":"Unmute a channel.","responseClass":"void","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"allowableValues":{"valueType":"LIST","values":["both","in","out"]},"description":"Direction in which to unmute audio","name":"direction","dataType":"string","paramType":"query","required":false,"allowMultiple":false,"defaultValue":"both"}],"errorResponses":[{"reason":"Channel not found","code":404},{"reason":"Channel not in a Stasis application","code":409}]}]},{"path":"/channels/{channelId}/hold","description":"Put a channel on hold","operations":[{"httpMethod":"POST","nickname":"hold","summary":"Hold a channel.","responseClass":"void","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false}],"errorResponses":[{"reason":"Channel not found","code":404},{"reason":"Channel not in a Stasis application","code":409}]},{"httpMethod":"DELETE","nickname":"unhold","summary":"Remove a channel from hold.","responseClass":"void","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false}],"errorResponses":[{"reason":"Channel not found","code":404},{"reason":"Channel not in a Stasis application","code":409}]}]},{"path":"/channels/{channelId}/moh","description":"Play music on hold to a channel","operations":[{"httpMethod":"POST","nickname":"startMoh","summary":"Play music on hold to a channel.","notes":"Using media operations such as /play on a channel playing MOH in this manner will suspend MOH without resuming automatically. If continuing music on hold is desired, the stasis application must reinitiate music on hold.","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"Music on hold class to use","name":"mohClass","dataType":"string","paramType":"query","required":false,"allowMultiple":false}],"responseClass":"void","errorResponses":[{"reason":"Channel not found","code":404},{"reason":"Channel not in a Stasis application","code":409}]},{"httpMethod":"DELETE","nickname":"stopMoh","summary":"Stop playing music on hold to a channel.","responseClass":"void","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false}],"errorResponses":[{"reason":"Channel not found","code":404},{"reason":"Channel not in a Stasis application","code":409}]}]},{"path":"/channels/{channelId}/silence","description":"Play silence to a channel","operations":[{"httpMethod":"POST","nickname":"startSilence","summary":"Play silence to a channel.","notes":"Using media operations such as /play on a channel playing silence in this manner will suspend silence without resuming automatically.","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false}],"responseClass":"void","errorResponses":[{"reason":"Channel not found","code":404},{"reason":"Channel not in a Stasis application","code":409}]},{"httpMethod":"DELETE","nickname":"stopSilence","summary":"Stop playing silence to a channel.","responseClass":"void","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false}],"errorResponses":[{"reason":"Channel not found","code":404},{"reason":"Channel not in a Stasis application","code":409}]}]},{"path":"/channels/{channelId}/play","description":"Play media to a channel","operations":[{"httpMethod":"POST","nickname":"play","summary":"Start playback of media.","notes":"The media URI may be any of a number of URI's. Currently sound:, recording:, number:, digits:, characters:, and tone: URI's are supported. This operation creates a playback resource that can be used to control the playback of media (pause, rewind, fast forward, etc.)","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"Media's URI to play.","name":"media","dataType":"string","paramType":"query","required":true,"allowMultiple":false},{"description":"For sounds, selects language for sound.","name":"lang","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"Number of media to skip before playing.","name":"offsetms","dataType":"int","paramType":"query","required":false,"allowMultiple":false},{"description":"Number of milliseconds to skip for forward/reverse operations.","name":"skipms","dataType":"int","paramType":"query","required":false,"allowMultiple":false,"defaultValue":3000},{"description":"Playback ID.","name":"playbackId","dataType":"string","paramType":"query","required":false,"allowMultiple":false}],"responseClass":"Playback","errorResponses":[{"reason":"Channel not found","code":404},{"reason":"Channel not in a Stasis application","code":409}]}]},{"path":"/channels/{channelId}/play/{playbackId}","description":"Play media to a channel","operations":[{"httpMethod":"POST","nickname":"playWithId","summary":"Start playback of media and specify the playbackId.","notes":"The media URI may be any of a number of URI's. Currently sound: and recording: URI's are supported. This operation creates a playback resource that can be used to control the playback of media (pause, rewind, fast forward, etc.)","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"Playback ID.","name":"playbackId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"Media's URI to play.","name":"media","dataType":"string","paramType":"query","required":true,"allowMultiple":false},{"description":"For sounds, selects language for sound.","name":"lang","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"Number of media to skip before playing.","name":"offsetms","dataType":"int","paramType":"query","required":false,"allowMultiple":false},{"description":"Number of milliseconds to skip for forward/reverse operations.","name":"skipms","dataType":"int","paramType":"query","required":false,"allowMultiple":false,"defaultValue":3000}],"responseClass":"Playback","errorResponses":[{"reason":"Channel not found","code":404},{"reason":"Channel not in a Stasis application","code":409}]}]},{"path":"/channels/{channelId}/record","description":"Record audio from a channel","operations":[{"httpMethod":"POST","nickname":"record","summary":"Start a recording.","notes":"Record audio from a channel. Note that this will not capture audio sent to the channel. The bridge itself has a record feature if that's what you want.","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"Recording's filename","name":"name","dataType":"string","paramType":"query","required":true,"allowMultiple":false},{"description":"Format to encode audio in","name":"format","dataType":"string","paramType":"query","required":true,"allowMultiple":false},{"allowableValues":{"min":0,"valueType":"RANGE"},"description":"Maximum duration of the recording, in seconds. 0 for no limit","name":"maxDurationSeconds","dataType":"int","paramType":"query","required":false,"allowMultiple":false,"defaultValue":0},{"allowableValues":{"min":0,"valueType":"RANGE"},"description":"Maximum duration of silence, in seconds. 0 for no limit","name":"maxSilenceSeconds","dataType":"int","paramType":"query","required":false,"allowMultiple":false,"defaultValue":0},{"allowableValues":{"valueType":"LIST","values":["fail","overwrite","append"]},"description":"Action to take if a recording with the same name already exists.","name":"ifExists","dataType":"string","paramType":"query","required":false,"allowMultiple":false,"defaultValue":"fail"},{"description":"Play beep when recording begins","name":"beep","dataType":"boolean","paramType":"query","required":false,"allowMultiple":false,"defaultValue":false},{"allowableValues":{"valueType":"LIST","values":["none","any","*","#"]},"description":"DTMF input to terminate recording","name":"terminateOn","dataType":"string","paramType":"query","required":false,"allowMultiple":false,"defaultValue":"none"}],"responseClass":"LiveRecording","errorResponses":[{"reason":"Invalid parameters","code":400},{"reason":"Channel not found","code":404},{"reason":"Channel is not in a Stasis application; the channel is currently bridged with other hcannels; A recording with the same name already exists on the system and can not be overwritten because it is in progress or ifExists=fail","code":409},{"reason":"The format specified is unknown on this system","code":422}]}]},{"path":"/channels/{channelId}/variable","description":"Variables on a channel","operations":[{"httpMethod":"GET","nickname":"getChannelVar","summary":"Get the value of a channel variable or function.","responseClass":"Variable","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"The channel variable or function to get","name":"variable","dataType":"string","paramType":"query","required":true,"allowMultiple":false}],"errorResponses":[{"reason":"Missing variable parameter.","code":400},{"reason":"Channel not found","code":404},{"reason":"Channel not in a Stasis application","code":409}]},{"httpMethod":"POST","nickname":"setChannelVar","summary":"Set the value of a channel variable or function.","responseClass":"void","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"The channel variable or function to set","name":"variable","dataType":"string","paramType":"query","required":true,"allowMultiple":false},{"description":"The value to set the variable to","name":"value","dataType":"string","paramType":"query","required":false,"allowMultiple":false}],"errorResponses":[{"reason":"Missing variable parameter.","code":400},{"reason":"Channel not found","code":404},{"reason":"Channel not in a Stasis application","code":409}]}]},{"path":"/channels/{channelId}/snoop","description":"Snoop (spy/whisper) on a channel","operations":[{"httpMethod":"POST","nickname":"snoopChannel","summary":"Start snooping.","notes":"Snoop (spy/whisper) on a specific channel.","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"allowableValues":{"valueType":"LIST","values":["none","both","out","in"]},"description":"Direction of audio to spy on","name":"spy","dataType":"string","paramType":"query","required":false,"allowMultiple":false,"defaultValue":"none"},{"allowableValues":{"valueType":"LIST","values":["none","both","out","in"]},"description":"Direction of audio to whisper into","name":"whisper","dataType":"string","paramType":"query","required":false,"allowMultiple":false,"defaultValue":"none"},{"description":"Application the snooping channel is placed into","name":"app","dataType":"string","paramType":"query","required":true,"allowMultiple":false},{"description":"The application arguments to pass to the Stasis application","name":"appArgs","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"Unique ID to assign to snooping channel","name":"snoopId","dataType":"string","paramType":"query","required":false,"allowMultiple":false}],"responseClass":"Channel","errorResponses":[{"reason":"Invalid parameters","code":400},{"reason":"Channel not found","code":404}]}]},{"path":"/channels/{channelId}/snoop/{snoopId}","description":"Snoop (spy/whisper) on a channel","operations":[{"httpMethod":"POST","nickname":"snoopChannelWithId","summary":"Start snooping.","notes":"Snoop (spy/whisper) on a specific channel.","parameters":[{"description":"Channel's id","name":"channelId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"Unique ID to assign to snooping channel","name":"snoopId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"allowableValues":{"valueType":"LIST","values":["none","both","out","in"]},"description":"Direction of audio to spy on","name":"spy","dataType":"string","paramType":"query","required":false,"allowMultiple":false,"defaultValue":"none"},{"allowableValues":{"valueType":"LIST","values":["none","both","out","in"]},"description":"Direction of audio to whisper into","name":"whisper","dataType":"string","paramType":"query","required":false,"allowMultiple":false,"defaultValue":"none"},{"description":"Application the snooping channel is placed into","name":"app","dataType":"string","paramType":"query","required":true,"allowMultiple":false},{"description":"The application arguments to pass to the Stasis application","name":"appArgs","dataType":"string","paramType":"query","required":false,"allowMultiple":false}],"responseClass":"Channel","errorResponses":[{"reason":"Invalid parameters","code":400},{"reason":"Channel not found","code":404}]}]}],"models":{"DialplanCEP":{"id":"DialplanCEP","description":"Dialplan location (context/extension/priority)","properties":{"context":{"required":true,"type":"string","description":"Context in the dialplan"},"exten":{"required":true,"type":"string","description":"Extension in the dialplan"},"priority":{"required":true,"type":"long","description":"Priority in the dialplan"}}},"Dialed":{"id":"Dialed","description":"Dialed channel information.","properties":{}},"Channel":{"id":"Channel","description":"A specific communication connection between Asterisk and an Endpoint.","properties":{"id":{"required":true,"type":"string","description":"Unique identifier of the channel.\n\nThis is the same as the Uniqueid field in AMI."},"state":{"required":true,"type":"string","allowableValues":{"valueType":"LIST","values":["Down","Rsrved","OffHook","Dialing","Ring","Ringing","Up","Busy","Dialing Offhook","Pre-ring","Unknown"]}},"name":{"required":true,"type":"string","description":"Name of the channel (i.e. SIP/foo-0000a7e3)"},"caller":{"required":true,"type":"CallerID"},"connected":{"required":true,"type":"CallerID"},"accountcode":{"required":true,"type":"string"},"dialplan":{"required":true,"type":"DialplanCEP","description":"Current location in the dialplan"},"creationtime":{"required":true,"type":"Date","description":"Timestamp when channel was created"}}},"CallerID":{"id":"CallerID","description":"Caller identification","properties":{"name":{"required":true,"type":"string"},"number":{"required":true,"type":"string"}}}}}