{"basePath":"http://ec2-52-18-188-47.eu-west-1.compute.amazonaws.com:8088/ari","swaggerVersion":"1.1","_svn_revision":"$Revision$","_copyright":"Copyright (C) 2012 - 2013, Digium, Inc.","_author":"David M. Lee, II <dlee@digium.com>","apiVersion":"1.8.0","resourcePath":"/api-docs/bridges.{format}","apis":[{"path":"/bridges","description":"Active bridges","operations":[{"httpMethod":"GET","nickname":"list","summary":"List all active bridges in Asterisk.","responseClass":"List[Bridge]"},{"httpMethod":"POST","nickname":"create","summary":"Create a new bridge.","notes":"This bridge persists until it has been shut down, or Asterisk has been shut down.","parameters":[{"description":"Comma separated list of bridge type attributes (mixing, holding, dtmf_events, proxy_media).","name":"type","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"Unique ID to give to the bridge being created.","name":"bridgeId","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"Name to give to the bridge being created.","name":"name","dataType":"string","paramType":"query","required":false,"allowMultiple":false}],"responseClass":"Bridge"}]},{"path":"/bridges/{bridgeId}","description":"Individual bridge","operations":[{"httpMethod":"POST","nickname":"createWithId","summary":"Create a new bridge or updates an existing one.","notes":"This bridge persists until it has been shut down, or Asterisk has been shut down.","parameters":[{"description":"Comma separated list of bridge type attributes (mixing, holding, dtmf_events, proxy_media) to set.","name":"type","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"description":"Unique ID to give to the bridge being created.","name":"bridgeId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"Set the name of the bridge.","name":"name","dataType":"string","paramType":"query","required":false,"allowMultiple":false}],"responseClass":"Bridge"},{"httpMethod":"GET","nickname":"get","summary":"Get bridge details.","responseClass":"Bridge","parameters":[{"description":"Bridge's id","name":"bridgeId","dataType":"string","paramType":"path","required":true,"allowMultiple":false}],"errorResponses":[{"reason":"Bridge not found","code":404}]},{"httpMethod":"DELETE","nickname":"destroy","summary":"Shut down a bridge.","notes":"If any channels are in this bridge, they will be removed and resume whatever they were doing beforehand.","parameters":[{"description":"Bridge's id","name":"bridgeId","dataType":"string","paramType":"path","required":true,"allowMultiple":false}],"responseClass":"void","errorResponses":[{"reason":"Bridge not found","code":404}]}]},{"path":"/bridges/{bridgeId}/addChannel","description":"Add a channel to a bridge","operations":[{"httpMethod":"POST","nickname":"addChannel","summary":"Add a channel to a bridge.","responseClass":"void","parameters":[{"description":"Bridge's id","name":"bridgeId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"Ids of channels to add to bridge","name":"channel","dataType":"string","paramType":"query","required":true,"allowMultiple":true},{"description":"Channel's role in the bridge","name":"role","dataType":"string","paramType":"query","required":false,"allowMultiple":false}],"errorResponses":[{"reason":"Channel not found","code":400},{"reason":"Bridge not found","code":404},{"reason":"Bridge not in Stasis application; Channel currently recording","code":409},{"reason":"Channel not in Stasis application","code":422}]}]},{"path":"/bridges/{bridgeId}/removeChannel","description":"Remove a channel from a bridge","operations":[{"httpMethod":"POST","nickname":"removeChannel","summary":"Remove a channel from a bridge.","responseClass":"void","parameters":[{"description":"Bridge's id","name":"bridgeId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"Ids of channels to remove from bridge","name":"channel","dataType":"string","paramType":"query","required":true,"allowMultiple":true}],"errorResponses":[{"reason":"Channel not found","code":400},{"reason":"Bridge not found","code":404},{"reason":"Bridge not in Stasis application","code":409},{"reason":"Channel not in this bridge","code":422}]}]},{"path":"/bridges/{bridgeId}/moh","description":"Play music on hold to a bridge","operations":[{"httpMethod":"POST","nickname":"startMoh","summary":"Play music on hold to a bridge or change the MOH class that is playing.","responseClass":"void","parameters":[{"description":"Bridge's id","name":"bridgeId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"Channel's id","name":"mohClass","dataType":"string","paramType":"query","required":false,"allowMultiple":false}],"errorResponses":[{"reason":"Bridge not found","code":404},{"reason":"Bridge not in Stasis application","code":409}]},{"httpMethod":"DELETE","nickname":"stopMoh","summary":"Stop playing music on hold to a bridge.","notes":"This will only stop music on hold being played via POST bridges/{bridgeId}/moh.","parameters":[{"description":"Bridge's id","name":"bridgeId","dataType":"string","paramType":"path","required":true,"allowMultiple":false}],"responseClass":"void","errorResponses":[{"reason":"Bridge not found","code":404},{"reason":"Bridge not in Stasis application","code":409}]}]},{"path":"/bridges/{bridgeId}/play","description":"Play media to the participants of a bridge","operations":[{"httpMethod":"POST","nickname":"play","summary":"Start playback of media on a bridge.","notes":"The media URI may be any of a number of URI's. Currently sound:, recording:, number:, digits:, characters:, and tone: URI's are supported. This operation creates a playback resource that can be used to control the playback of media (pause, rewind, fast forward, etc.)","parameters":[{"description":"Bridge's id","name":"bridgeId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"Media's URI to play.","name":"media","dataType":"string","paramType":"query","required":true,"allowMultiple":false},{"description":"For sounds, selects language for sound.","name":"lang","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"allowableValues":{"min":0,"valueType":"RANGE"},"description":"Number of media to skip before playing.","name":"offsetms","dataType":"int","paramType":"query","required":false,"allowMultiple":false,"defaultValue":0},{"allowableValues":{"min":0,"valueType":"RANGE"},"description":"Number of milliseconds to skip for forward/reverse operations.","name":"skipms","dataType":"int","paramType":"query","required":false,"allowMultiple":false,"defaultValue":3000},{"description":"Playback Id.","name":"playbackId","dataType":"string","paramType":"query","required":false,"allowMultiple":false}],"responseClass":"Playback","errorResponses":[{"reason":"Bridge not found","code":404},{"reason":"Bridge not in a Stasis application","code":409}]}]},{"path":"/bridges/{bridgeId}/play/{playbackId}","description":"Play media to a bridge","operations":[{"httpMethod":"POST","nickname":"playWithId","summary":"Start playback of media on a bridge.","notes":"The media URI may be any of a number of URI's. Currently sound:, recording:, number:, digits:, characters:, and tone: URI's are supported. This operation creates a playback resource that can be used to control the playback of media (pause, rewind, fast forward, etc.)","parameters":[{"description":"Bridge's id","name":"bridgeId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"Playback ID.","name":"playbackId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"Media's URI to play.","name":"media","dataType":"string","paramType":"query","required":true,"allowMultiple":false},{"description":"For sounds, selects language for sound.","name":"lang","dataType":"string","paramType":"query","required":false,"allowMultiple":false},{"allowableValues":{"min":0,"valueType":"RANGE"},"description":"Number of media to skip before playing.","name":"offsetms","dataType":"int","paramType":"query","required":false,"allowMultiple":false,"defaultValue":0},{"allowableValues":{"min":0,"valueType":"RANGE"},"description":"Number of milliseconds to skip for forward/reverse operations.","name":"skipms","dataType":"int","paramType":"query","required":false,"allowMultiple":false,"defaultValue":3000}],"responseClass":"Playback","errorResponses":[{"reason":"Bridge not found","code":404},{"reason":"Bridge not in a Stasis application","code":409}]}]},{"path":"/bridges/{bridgeId}/record","description":"Record audio on a bridge","operations":[{"httpMethod":"POST","nickname":"record","summary":"Start a recording.","notes":"This records the mixed audio from all channels participating in this bridge.","parameters":[{"description":"Bridge's id","name":"bridgeId","dataType":"string","paramType":"path","required":true,"allowMultiple":false},{"description":"Recording's filename","name":"name","dataType":"string","paramType":"query","required":true,"allowMultiple":false},{"description":"Format to encode audio in","name":"format","dataType":"string","paramType":"query","required":true,"allowMultiple":false},{"allowableValues":{"min":0,"valueType":"RANGE"},"description":"Maximum duration of the recording, in seconds. 0 for no limit.","name":"maxDurationSeconds","dataType":"int","paramType":"query","required":false,"allowMultiple":false,"defaultValue":0},{"allowableValues":{"min":0,"valueType":"RANGE"},"description":"Maximum duration of silence, in seconds. 0 for no limit.","name":"maxSilenceSeconds","dataType":"int","paramType":"query","required":false,"allowMultiple":false,"defaultValue":0},{"allowableValues":{"valueType":"LIST","values":["fail","overwrite","append"]},"description":"Action to take if a recording with the same name already exists.","name":"ifExists","dataType":"string","paramType":"query","required":false,"allowMultiple":false,"defaultValue":"fail"},{"description":"Play beep when recording begins","name":"beep","dataType":"boolean","paramType":"query","required":false,"allowMultiple":false,"defaultValue":false},{"allowableValues":{"valueType":"LIST","values":["none","any","*","#"]},"description":"DTMF input to terminate recording.","name":"terminateOn","dataType":"string","paramType":"query","required":false,"allowMultiple":false,"defaultValue":"none"}],"responseClass":"LiveRecording","errorResponses":[{"reason":"Invalid parameters","code":400},{"reason":"Bridge not found","code":404},{"reason":"Bridge is not in a Stasis application; A recording with the same name already exists on the system and can not be overwritten because it is in progress or ifExists=fail","code":409},{"reason":"The format specified is unknown on this system","code":422}]}]}],"models":{"Bridge":{"id":"Bridge","description":"The merging of media from one or more channels.\n\nEveryone on the bridge receives the same audio.","properties":{"id":{"type":"string","description":"Unique identifier for this bridge","required":true},"channels":{"type":"List[string]","description":"Ids of channels participating in this bridge","required":true},"name":{"type":"string","description":"Name the creator gave the bridge","required":true},"technology":{"type":"string","description":"Name of the current bridging technology","required":true},"bridge_class":{"type":"string","description":"Bridging class","required":true},"creator":{"type":"string","description":"Entity that created the bridge","required":true},"bridge_type":{"type":"string","allowableValues":{"valueType":"LIST","values":["mixing","holding"]},"description":"Type of bridge technology","required":true}}}}}